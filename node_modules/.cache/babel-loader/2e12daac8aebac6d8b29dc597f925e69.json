{"ast":null,"code":"import _slicedToArray from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useContext,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{AuthContext}from\"src/helper/AuthContext\";import{Button}from\"src/components/common\";import{host}from\"src/LinkHost\";import*as S from\"./styled\";import{jsx as ___EmotionJSX}from\"@emotion/react\";export var TeacherForm=function TeacherForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),t_id=_useState2[0],setTid=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),t_pw=_useState4[0],setTpw=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),t_job=_useState6[0],setTjob=_useState6[1];var _useContext=useContext(AuthContext),setAuthState=_useContext.setAuthState;var navigate=useNavigate();var login=function login(){var data={t_id:t_id,t_pw:t_pw,t_job:t_job};axios.post(\"http://\".concat(host,\":8080/teacher/login\"),data).then(function(response){if(response.data.error){alert(response.data.error);}else{navigate(\"/\");localStorage.setItem(\"accessToken\",response.data.token);setAuthState({t_id:response.data.t_id,t_job:response.data.t_job,id:response.data.id,status:false});}});};useEffect(function(){if(localStorage.getItem(\"accessToken\")){navigate(\"/\");alert(\"로그인되었습니다.\");}},[]);var enableButton=t_job===\"teacher\"?false:true;return ___EmotionJSX(React.Fragment,null,___EmotionJSX(S.FormInputContainer,null,___EmotionJSX(S.TitleContainer,null,___EmotionJSX(S.Title,null,\"\\uC120\\uC0DD\\uB2D8 \\uB85C\\uADF8\\uC778\")),___EmotionJSX(S.InputElementContainer,null,___EmotionJSX(S.InputContainer,null,___EmotionJSX(S.empty,null),___EmotionJSX(S.InputElement,{type:\"text\",onChange:function onChange(event){setTid(event.target.value);},placeholder:\"\\uC544\\uC774\\uB514\"}),___EmotionJSX(S.InputElement,{type:\"password\",onChange:function onChange(event){setTpw(event.target.value);},placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),___EmotionJSX(S.LabelContainer,null,___EmotionJSX(S.Label,null,\"\\uC544\\uB798\\uC5D0\"),___EmotionJSX(S.teacher,null,\"\\u2018teacher\\u2019\"),___EmotionJSX(S.Label,null,\"\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\")),___EmotionJSX(S.InputElement,{type:\"text\",onChange:function onChange(event){setTjob(event.target.value);}})),___EmotionJSX(S.ButtonContainer,null,___EmotionJSX(Button,{disabled:enableButton,style:{backgroundColor:enableButton===true?\"#afafaf\":\"black\"},onClick:login},\"\\uB85C\\uADF8\\uC778\")))));};","map":{"version":3,"names":["axios","React","useState","useContext","useEffect","useNavigate","AuthContext","Button","host","S","TeacherForm","t_id","setTid","t_pw","setTpw","t_job","setTjob","setAuthState","navigate","login","data","post","then","response","error","alert","localStorage","setItem","token","id","status","getItem","enableButton","event","target","value","backgroundColor"],"sources":["C:/Users/qkrcj/OneDrive/문서/Skyplanner/SP_frontend/src/components/common/Auth/TeacherForm/index.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"src/helper/AuthContext\";\r\nimport { Button } from \"src/components/common\";\r\nimport { host } from \"src/LinkHost\";\r\n\r\nimport * as S from \"./styled\";\r\n\r\nexport const TeacherForm = () => {\r\n  const [t_id, setTid] = useState(\"\");\r\n  const [t_pw, setTpw] = useState(\"\");\r\n  const [t_job, setTjob] = useState(\"\");\r\n  const { setAuthState } = useContext(AuthContext);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const login = () => {\r\n    const data = { t_id: t_id, t_pw: t_pw, t_job: t_job };\r\n    axios.post(`http://${host}:8080/teacher/login`, data).then((response) => {\r\n      if (response.data.error) {\r\n        alert(response.data.error);\r\n      } else {\r\n        navigate(\"/\");\r\n        localStorage.setItem(\"accessToken\", response.data.token);\r\n        setAuthState({\r\n          t_id: response.data.t_id,\r\n          t_job: response.data.t_job,\r\n          id: response.data.id,\r\n          status: false,\r\n        });\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"accessToken\")) {\r\n      navigate(\"/\");\r\n      alert(\"로그인되었습니다.\");\r\n    }\r\n  }, []);\r\n  const enableButton = t_job === \"teacher\" ? false : true;\r\n  return (\r\n    <>\r\n      <S.FormInputContainer>\r\n        <S.TitleContainer>\r\n          <S.Title>선생님 로그인</S.Title>\r\n        </S.TitleContainer>\r\n        <S.InputElementContainer>\r\n          <S.InputContainer>\r\n            <S.empty />\r\n            <S.InputElement\r\n              type=\"text\"\r\n              onChange={(event) => {\r\n                setTid(event.target.value);\r\n              }}\r\n              placeholder=\"아이디\"\r\n            />\r\n            <S.InputElement\r\n              type=\"password\"\r\n              onChange={(event) => {\r\n                setTpw(event.target.value);\r\n              }}\r\n              placeholder=\"비밀번호\"\r\n            />\r\n            <S.LabelContainer>\r\n              <S.Label>아래에</S.Label>\r\n              <S.teacher>‘teacher’</S.teacher>\r\n              <S.Label>을 입력해주세요.</S.Label>\r\n            </S.LabelContainer>\r\n            <S.InputElement\r\n              type=\"text\"\r\n              onChange={(event) => {\r\n                setTjob(event.target.value);\r\n              }}\r\n            />\r\n          </S.InputContainer>\r\n          <S.ButtonContainer>\r\n            <Button\r\n              disabled={enableButton}\r\n              style={{\r\n                backgroundColor: enableButton === true ? \"#afafaf\" : \"black\",\r\n              }}\r\n              onClick={login}\r\n            >\r\n              로그인\r\n            </Button>\r\n          </S.ButtonContainer>\r\n        </S.InputElementContainer>\r\n      </S.FormInputContainer>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}