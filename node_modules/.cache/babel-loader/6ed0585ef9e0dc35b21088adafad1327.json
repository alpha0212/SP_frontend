{"ast":null,"code":"import _objectSpread from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{AuthContext}from\"src/helper/AuthContext\";import*as S from\"./styled\";import{jsx as ___EmotionJSX}from\"@emotion/react\";export var Navbar=function Navbar(){var _useState=useState({user_name:\"\",id:\"\",status:false}),_useState2=_slicedToArray(_useState,2),authState=_useState2[0],setAuthState=_useState2[1];var _useState3=useState({t_job:\"\",status:false}),_useState4=_slicedToArray(_useState3,2),teaState=_useState4[0],setTeaState=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8080/auth/auth\",{headers:{accessToken:localStorage.getItem(\"accessToken\")}}).then(function(response){if(response.data.error){setAuthState(_objectSpread(_objectSpread({},authState),{},{status:false}));setTeaState(_objectSpread(_objectSpread({},teaState),{},{status:false}));}else{setAuthState({user_name:response.data.user_name,id:response.data.id,status:true});setTeaState({t_job:response.data.t_job,status:true});}});},[]);var logout=function logout(){localStorage.removeItem(\"accessToken\");setAuthState({user_name:\"\",status:false});setTeaState({t_job:\"\",status:false});};return ___EmotionJSX(React.Fragment,null,___EmotionJSX(S.NavbarContainer,null,___EmotionJSX(S.NavbarFormGroup,null,!authState.status?___EmotionJSX(React.Fragment,null,___EmotionJSX(S.NavbarA,{to:\"auth/login\"},\"\\uB85C\\uADF8\\uC778\"),___EmotionJSX(S.NavbarA,{to:\"auth/register\"},\"\\uD68C\\uC6D0\\uAC00\\uC785\")):___EmotionJSX(React.Fragment,null,teaState.t_job===\"teacher\"?___EmotionJSX(React.Fragment,null):___EmotionJSX(S.NavbarA,{to:\"/time/today\"},\"My\\uC2DC\\uAC04\"),teaState.t_job===\"teacher\"?___EmotionJSX(React.Fragment,null):___EmotionJSX(Link,{style:{textDecoration:\"none\",marginRight:\"2vw\"},to:\"/myinfo/myplan/\".concat(authState.id)},___EmotionJSX(\"div\",{style:{color:\"black\"}},authState.user_name)),teaState.t_job===\"teacher\"?___EmotionJSX(S.NavbarA,{to:\"st/list\"},___EmotionJSX(S.TextSet,null,\"\\uD559\\uC0DD\\uAD00\\uB9AC\")):___EmotionJSX(React.Fragment,null)),authState.status&&___EmotionJSX(S.Logout,{onClick:logout},\"Logout\"))));};","map":{"version":3,"names":["axios","React","useEffect","useState","Link","AuthContext","S","Navbar","user_name","id","status","authState","setAuthState","t_job","teaState","setTeaState","get","headers","accessToken","localStorage","getItem","then","response","data","error","logout","removeItem","textDecoration","marginRight","color"],"sources":["C:/Users/qkrcj/OneDrive/문서/Skyplanner/SP_frontend/src/components/common/Navbar/index.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"src/helper/AuthContext\";\r\n\r\nimport * as S from \"./styled\";\r\n\r\nexport const Navbar = () => {\r\n  const [authState, setAuthState] = useState({\r\n    user_name: \"\",\r\n    id: \"\",\r\n    status: false,\r\n  });\r\n\r\n  const [teaState, setTeaState] = useState({\r\n    t_job: \"\",\r\n    status: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8080/auth/auth\", {\r\n        headers: {\r\n          accessToken: localStorage.getItem(\"accessToken\"),\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.error) {\r\n          setAuthState({ ...authState, status: false });\r\n          setTeaState({ ...teaState, status: false });\r\n        } else {\r\n          setAuthState({\r\n            user_name: response.data.user_name,\r\n            id: response.data.id,\r\n            status: true,\r\n          });\r\n          setTeaState({\r\n            t_job: response.data.t_job,\r\n            status: true,\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"accessToken\");\r\n    setAuthState({ user_name: \"\", status: false });\r\n    setTeaState({ t_job: \"\", status: false });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <S.NavbarContainer>\r\n        <S.NavbarFormGroup>\r\n          {!authState.status ? (\r\n            <>\r\n              <S.NavbarA to=\"auth/login\">로그인</S.NavbarA>\r\n              <S.NavbarA to=\"auth/register\">회원가입</S.NavbarA>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {teaState.t_job === \"teacher\" ? (\r\n                <></>\r\n              ) : (\r\n                <S.NavbarA to=\"/time/today\">My시간</S.NavbarA>\r\n              )}\r\n              {teaState.t_job === \"teacher\" ? (\r\n                <></>\r\n              ) : (\r\n                <Link\r\n                  style={{ textDecoration: \"none\", marginRight: \"2vw\" }}\r\n                  to={`/myinfo/myplan/${authState.id}`}\r\n                >\r\n                  <div style={{ color: \"black\" }}>{authState.user_name}</div>\r\n                </Link>\r\n              )}\r\n              {teaState.t_job === \"teacher\" ? (\r\n                <S.NavbarA to=\"st/list\">\r\n                  <S.TextSet>학생관리</S.TextSet>\r\n                </S.NavbarA>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </>\r\n          )}\r\n          {authState.status && <S.Logout onClick={logout}>Logout</S.Logout>}\r\n        </S.NavbarFormGroup>\r\n      </S.NavbarContainer>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}