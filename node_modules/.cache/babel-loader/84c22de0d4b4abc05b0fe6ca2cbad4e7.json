{"ast":null,"code":"import _objectSpread from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import*as S from\"./styled\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{host}from\"src/LinkHost\";import{jsx as ___EmotionJSX}from\"@emotion/react\";export var MyInfoTemplate=function MyInfoTemplate(_ref){var infoType=_ref.infoType,listToday=_ref.listToday,profile=_ref.profile;var navigate=useNavigate();var _useState=useState({user_id:\"\",status:false}),_useState2=_slicedToArray(_useState,2),authState=_useState2[0],setAuthState=_useState2[1];useEffect(function(){axios.get(\"http://\".concat(host,\":8080/auth/auth\"),{headers:{accessToken:localStorage.getItem(\"accessToken\")}}).then(function(response){if(response.data.error){setAuthState(_objectSpread(_objectSpread({},authState),{},{status:false}));}else{setAuthState({user_id:response.data.user_id,status:true});}});if(!localStorage.getItem(\"accessToken\")){navigate(\"/auth/login\");alert(\"Î°úÍ∑∏Ïù∏Ìï¥Ï£ºÏÑ∏Ïöî!üòÖ\");}},[]);return ___EmotionJSX(React.Fragment,null,___EmotionJSX(S.ListOfMenu,null,___EmotionJSX(S.ListTypeContainer,{style:{paddingLeft:infoType===\"profile\"?\"4rem\":\"0rem\"}},___EmotionJSX(S.MyPlanContainer,{infoType:\"myplan\"},___EmotionJSX(S.TodayStudy,{to:\"/myinfo/myplan/\".concat(authState.user_id)},\"\\uB9C8\\uC774\\uD50C\\uB79C\")),___EmotionJSX(S.ProfileContainer,{infoType:\"profile\"},___EmotionJSX(S.TodayStudy,{to:\"/myinfo/profile/\".concat(authState.user_id)},\"\\uD504\\uB85C\\uD544\")))),___EmotionJSX(S.FlexContainer,null,infoType===\"myplan\"?listToday:___EmotionJSX(React.Fragment,null),infoType===\"profile\"?profile:___EmotionJSX(React.Fragment,null)));};","map":{"version":3,"names":["React","useState","useEffect","S","axios","useNavigate","host","MyInfoTemplate","infoType","listToday","profile","navigate","user_id","status","authState","setAuthState","get","headers","accessToken","localStorage","getItem","then","response","data","error","alert","paddingLeft"],"sources":["C:/Users/qkrcj/OneDrive/Î¨∏ÏÑú/Skyplanner/SP_frontend/src/components/common/MyInfoTemplate/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport * as S from \"./styled\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { host } from \"src/LinkHost\";\r\n\r\nexport interface MyInfoTemplateProps {\r\n  infoType: \"myplan\" | \"profile\";\r\n  listToday: React.ReactNode;\r\n  profile: React.ReactNode;\r\n}\r\n\r\nexport const MyInfoTemplate: React.FC<MyInfoTemplateProps> = ({\r\n  infoType,\r\n  listToday,\r\n  profile,\r\n}) => {\r\n  const navigate = useNavigate();\r\n  const [authState, setAuthState] = useState({ user_id: \"\", status: false });\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://${host}:8080/auth/auth`, {\r\n        headers: {\r\n          accessToken: localStorage.getItem(\"accessToken\") as any,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.error) {\r\n          setAuthState({ ...authState, status: false });\r\n        } else {\r\n          setAuthState({\r\n            user_id: response.data.user_id,\r\n            status: true,\r\n          });\r\n        }\r\n      });\r\n    if (!localStorage.getItem(\"accessToken\")) {\r\n      navigate(\"/auth/login\");\r\n      alert(\"Î°úÍ∑∏Ïù∏Ìï¥Ï£ºÏÑ∏Ïöî!üòÖ\");\r\n    }\r\n  }, []);\r\n  return (\r\n    <>\r\n      <S.ListOfMenu>\r\n        <S.ListTypeContainer\r\n          style={{\r\n            paddingLeft: infoType === \"profile\" ? \"4rem\" : \"0rem\",\r\n          }}\r\n        >\r\n          <S.MyPlanContainer infoType=\"myplan\">\r\n            <S.TodayStudy to={`/myinfo/myplan/${authState.user_id}`}>\r\n              ÎßàÏù¥ÌîåÎûú\r\n            </S.TodayStudy>\r\n          </S.MyPlanContainer>\r\n          <S.ProfileContainer infoType=\"profile\">\r\n            <S.TodayStudy to={`/myinfo/profile/${authState.user_id}`}>\r\n              ÌîÑÎ°úÌïÑ\r\n            </S.TodayStudy>\r\n          </S.ProfileContainer>\r\n        </S.ListTypeContainer>\r\n      </S.ListOfMenu>\r\n      <S.FlexContainer>\r\n        {infoType === \"myplan\" ? listToday : <></>}\r\n        {infoType === \"profile\" ? profile : <></>}\r\n      </S.FlexContainer>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"iSAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,GAAKC,EAAZ,KAAmB,UAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,IAAT,KAAqB,cAArB,C,iDAQA,MAAO,IAAMC,eAA6C,CAAG,QAAhDA,eAAgD,MAIvD,IAHJC,SAGI,MAHJA,QAGI,CAFJC,SAEI,MAFJA,SAEI,CADJC,OACI,MADJA,OACI,CACJ,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,cAAkCJ,QAAQ,CAAC,CAAEW,OAAO,CAAE,EAAX,CAAeC,MAAM,CAAE,KAAvB,CAAD,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eACAb,SAAS,CAAC,UAAM,CACdE,KAAK,CACFY,GADH,kBACiBV,IADjB,oBACwC,CACpCW,OAAO,CAAE,CACPC,WAAW,CAAEC,YAAY,CAACC,OAAb,CAAqB,aAArB,CADN,CAD2B,CADxC,EAMGC,IANH,CAMQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,KAAlB,CAAyB,CACvBT,YAAY,gCAAMD,SAAN,MAAiBD,MAAM,CAAE,KAAzB,GAAZ,CACD,CAFD,IAEO,CACLE,YAAY,CAAC,CACXH,OAAO,CAAEU,QAAQ,CAACC,IAAT,CAAcX,OADZ,CAEXC,MAAM,CAAE,IAFG,CAAD,CAAZ,CAID,CACF,CAfH,EAgBA,GAAI,CAACM,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAL,CAA0C,CACxCT,QAAQ,CAAC,aAAD,CAAR,CACAc,KAAK,CAAC,YAAD,CAAL,CACD,CACF,CArBQ,CAqBN,EArBM,CAAT,CAsBA,MACE,mCACE,cAAC,CAAD,CAAG,UAAH,MACE,cAAC,CAAD,CAAG,iBAAH,EACE,KAAK,CAAE,CACLC,WAAW,CAAElB,QAAQ,GAAK,SAAb,CAAyB,MAAzB,CAAkC,MAD1C,CADT,EAKE,cAAC,CAAD,CAAG,eAAH,EAAmB,QAAQ,CAAC,QAA5B,EACE,cAAC,CAAD,CAAG,UAAH,EAAc,EAAE,0BAAoBM,SAAS,CAACF,OAA9B,CAAhB,6BADF,CALF,CAUE,cAAC,CAAD,CAAG,gBAAH,EAAoB,QAAQ,CAAC,SAA7B,EACE,cAAC,CAAD,CAAG,UAAH,EAAc,EAAE,2BAAqBE,SAAS,CAACF,OAA/B,CAAhB,uBADF,CAVF,CADF,CADF,CAmBE,cAAC,CAAD,CAAG,aAAH,MACGJ,QAAQ,GAAK,QAAb,CAAwBC,SAAxB,CAAoC,kCADvC,CAEGD,QAAQ,GAAK,SAAb,CAAyBE,OAAzB,CAAmC,kCAFtC,CAnBF,CADF,CA0BD,CAvDM"},"metadata":{},"sourceType":"module"}