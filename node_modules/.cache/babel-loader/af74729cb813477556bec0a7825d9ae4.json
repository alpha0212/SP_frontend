{"ast":null,"code":"import _slicedToArray from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useContext,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{AuthContext}from\"src/helper/AuthContext\";import{Button}from\"src/components/common\";import*as S from\"./styled\";import{jsx as ___EmotionJSX}from\"@emotion/react\";export var FormInput=function FormInput(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),user_id=_useState2[0],setUserid=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),user_pw=_useState4[0],setUserpw=_useState4[1];var _useContext=useContext(AuthContext),setAuthState=_useContext.setAuthState;var navigate=useNavigate();var login=function login(){var data={user_id:user_id,user_pw:user_pw};axios.post(\"http://localhost:8080/auth/login\",data).then(function(response){if(response.data.error){alert(response.data.error);}else{navigate(\"/\");localStorage.setItem(\"accessToken\",response.data.token);setAuthState({user_id:response.data.user_id,id:response.data.id,status:false});}});};useEffect(function(){if(localStorage.getItem(\"accessToken\")){navigate(\"/\");alert(\"로그인되었습니다.\");}},[]);var enableButton=user_pw===\"\"?true:false;return ___EmotionJSX(React.Fragment,null,___EmotionJSX(S.FormInputContainer,null,___EmotionJSX(S.InputElementContainer,null,___EmotionJSX(S.InputContainer,null,___EmotionJSX(S.InputElement,{type:\"text\",onChange:function onChange(event){setUserid(event.target.value);},placeholder:\"\\uC544\\uC774\\uB514\"}),___EmotionJSX(S.InputElement,{type:\"password\",onChange:function onChange(event){setUserpw(event.target.value);},placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",value:user_pw}),___EmotionJSX(Button,{disabled:enableButton,style:{backgroundColor:enableButton===true?\"#afafaf\":\"black\"},onClick:login},\"\\uB85C\\uADF8\\uC778\"),___EmotionJSX(S.ChooseMenu,null,___EmotionJSX(S.Choose,{to:\"/auth/teacher\"},___EmotionJSX(S.goTeacher,null,\"\\uC120\\uC0DD\\uB2D8\"),\"\\uB85C\\uADF8\\uC778\"),___EmotionJSX(S.verticalChoose,null,\"|\"),___EmotionJSX(S.Choose,{to:\"#\"},\"\\uBE44\\uBC00\\uBC88\\uD638 \\uBCC0\\uACBD\"))))));};","map":{"version":3,"names":["axios","React","useState","useContext","useEffect","useNavigate","AuthContext","Button","S","FormInput","user_id","setUserid","user_pw","setUserpw","setAuthState","navigate","login","data","post","then","response","error","alert","localStorage","setItem","token","id","status","getItem","enableButton","event","target","value","backgroundColor"],"sources":["C:/Users/qkrcj/OneDrive/문서/Skyplanner/SP_frontend/src/components/common/Auth/FormInput/index.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"src/helper/AuthContext\";\r\nimport { Button } from \"src/components/common\";\r\nimport * as S from \"./styled\";\r\n\r\nexport const FormInput = () => {\r\n  const [user_id, setUserid] = useState(\"\");\r\n  const [user_pw, setUserpw] = useState(\"\");\r\n  const { setAuthState } = useContext(AuthContext);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const login = () => {\r\n    const data = { user_id: user_id, user_pw: user_pw };\r\n    axios.post(\"http://localhost:8080/auth/login\", data).then((response) => {\r\n      if (response.data.error) {\r\n        alert(response.data.error);\r\n      } else {\r\n        navigate(\"/\");\r\n        localStorage.setItem(\"accessToken\", response.data.token);\r\n        setAuthState({\r\n          user_id: response.data.user_id,\r\n          id: response.data.id,\r\n          status: false,\r\n        });\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"accessToken\")) {\r\n      navigate(\"/\");\r\n      alert(\"로그인되었습니다.\");\r\n    }\r\n  }, []);\r\n  const enableButton = user_pw === \"\" ? true : false;\r\n  return (\r\n    <>\r\n      <S.FormInputContainer>\r\n        <S.InputElementContainer>\r\n          <S.InputContainer>\r\n            <S.InputElement\r\n              type=\"text\"\r\n              onChange={(event) => {\r\n                setUserid(event.target.value);\r\n              }}\r\n              placeholder=\"아이디\"\r\n            />\r\n            <S.InputElement\r\n              type=\"password\"\r\n              onChange={(event) => {\r\n                setUserpw(event.target.value);\r\n              }}\r\n              placeholder=\"비밀번호\"\r\n              value={user_pw}\r\n            />\r\n            <Button\r\n              disabled={enableButton}\r\n              style={{\r\n                backgroundColor: enableButton === true ? \"#afafaf\" : \"black\",\r\n              }}\r\n              onClick={login}\r\n            >\r\n              로그인\r\n            </Button>\r\n            <S.ChooseMenu>\r\n              <S.Choose to=\"/auth/teacher\">\r\n                <S.goTeacher>선생님</S.goTeacher>로그인\r\n              </S.Choose>\r\n              <S.verticalChoose>|</S.verticalChoose>\r\n              <S.Choose to=\"#\">비밀번호 변경</S.Choose>\r\n            </S.ChooseMenu>\r\n          </S.InputContainer>\r\n        </S.InputElementContainer>\r\n      </S.FormInputContainer>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}