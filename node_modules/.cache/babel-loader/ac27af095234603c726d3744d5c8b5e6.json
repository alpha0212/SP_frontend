{"ast":null,"code":"var _jsxFileName = \"D:\\\\Skyplanner\\\\client\\\\src\\\\components\\\\common\\\\Navbar\\\\index.jsx\";\nimport axios from \"axios\";\nimport React, { useEffect, useState, createContext } from \"react\";\nimport { Button } from \"../Button\";\nimport * as S from \"./styled\";\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\nexport const Navbar = () => {\n  var _s = $RefreshSig$();\n\n  const NAVIGATION_ITEMS = ['Home', 'About', 'Services', 'Blog', 'Contact'];\n\n  const Header = () => {\n    _s();\n\n    const [isScroll, setIsScroll] = useState(false);\n    const handleScroll = useCallback(() => {\n      if (window.pageYOffset > 0) {\n        setIsScroll(true);\n      }\n\n      if (window.pageYOffset === 0) {\n        setIsScroll(false);\n      }\n    }, []);\n    useEffect(() => {\n      window.addEventListener('mousewheel', handleScroll);\n      return () => {\n        window.removeEventListener('mousewheel', handleScroll);\n      };\n    }, [handleScroll]);\n    const [authState, setAuthState] = useState({\n      user_name: \"\",\n      id: 0,\n      status: false\n    });\n    const AuthContext = /*#__PURE__*/createContext({\n      authState,\n      setAuthState\n    });\n    useEffect(() => {\n      axios.get(\"http://localhost:8000/auth/auth\", {\n        headers: {\n          accessToken: localStorage.getItem(\"accessToken\")\n        }\n      }).then(response => {\n        if (response.data.error) {\n          setAuthState({ ...authState,\n            status: false\n          });\n        } else {\n          setAuthState({\n            user_name: response.data.user_name,\n            id: response.data.id,\n            status: true\n          });\n        }\n      });\n    }, []);\n\n    const logout = () => {\n      localStorage.removeItem(\"accessToken\");\n      setAuthState({\n        user_name: \"\",\n        id: 0,\n        status: false\n      });\n    };\n\n    return ___EmotionJSX(React.Fragment, null, ___EmotionJSX(S.NavbarContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, ___EmotionJSX(S.NavbarFormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, ___EmotionJSX(AuthContext.Provider, {\n      value: {\n        authState,\n        setAuthState\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, authState && ___EmotionJSX(React.Fragment, null, ___EmotionJSX(S.NavbarA, {\n      to: \"time/mytime\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, \"My\\uC2DC\\uAC04\"), ___EmotionJSX(S.NavbarA, {\n      to: \"auth/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"\\uB85C\\uADF8\\uC778\"), ___EmotionJSX(S.NavbarA, {\n      to: \"auth/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"))))));\n  };\n\n  _s(Header, \"A3Bvn9SdoQV/1QPujaaVfI25FgY=\");\n};\n_c = Navbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["axios","React","useEffect","useState","createContext","Button","S","Navbar","NAVIGATION_ITEMS","Header","isScroll","setIsScroll","handleScroll","useCallback","window","pageYOffset","addEventListener","removeEventListener","authState","setAuthState","user_name","id","status","AuthContext","get","headers","accessToken","localStorage","getItem","then","response","data","error","logout","removeItem"],"sources":["D:/Skyplanner/client/src/components/common/Navbar/index.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState, createContext } from \"react\";\r\nimport { Button } from \"../Button\";\r\n\r\nimport * as S from \"./styled\";\r\n\r\nexport const Navbar = () => {\r\n  const NAVIGATION_ITEMS = ['Home', 'About', 'Services', 'Blog', 'Contact'];\r\n\r\n  const Header = () => {\r\n    const [isScroll, setIsScroll] = useState(false);\r\n  \r\n    const handleScroll = useCallback(() => {\r\n      if (window.pageYOffset > 0) {\r\n        setIsScroll(true);\r\n      }\r\n      if (window.pageYOffset === 0) {\r\n        setIsScroll(false);\r\n      }\r\n    }, []);\r\n  \r\n    useEffect(() => {\r\n      window.addEventListener('mousewheel', handleScroll);\r\n      return () => {\r\n        window.removeEventListener('mousewheel', handleScroll);\r\n      };\r\n    }, [handleScroll]);\r\n\r\n  const [authState, setAuthState] = useState({\r\n    user_name: \"\",\r\n    id: 0,\r\n    status: false,\r\n  });\r\n  const AuthContext = createContext({ authState, setAuthState });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8000/auth/auth\", {\r\n        headers: {\r\n          accessToken: localStorage.getItem(\"accessToken\"),\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.error) {\r\n          setAuthState({ ...authState, status: false });\r\n        } else {\r\n          setAuthState({\r\n            user_name: response.data.user_name,\r\n            id: response.data.id,\r\n            status: true,\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"accessToken\");\r\n    setAuthState({ user_name: \"\", id: 0, status: false });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <S.NavbarContainer>\r\n        <S.NavbarFormGroup>\r\n          <AuthContext.Provider value={{ authState, setAuthState }}>\r\n            {authState && (\r\n              <>\r\n                <S.NavbarA to=\"time/mytime\">My시간</S.NavbarA>\r\n                <S.NavbarA to=\"auth/login\">로그인</S.NavbarA>\r\n                <S.NavbarA to=\"auth/register\">회원가입</S.NavbarA>\r\n              </>\r\n            )}\r\n          </AuthContext.Provider>\r\n        </S.NavbarFormGroup>\r\n      </S.NavbarContainer>\r\n    </>\r\n  );\r\n}\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}