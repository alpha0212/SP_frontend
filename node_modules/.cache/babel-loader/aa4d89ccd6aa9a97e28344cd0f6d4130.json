{"ast":null,"code":"import _objectSpread from\"C:/Users/qkrcj/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/ad/SkyPlanner/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/qkrcj/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/ad/SkyPlanner/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState,createContext}from\"react\";import{Button}from\"../Button\";import*as S from\"./styled\";import{jsx as ___EmotionJSX}from\"@emotion/react\";export var Navbar=function Navbar(){var _useState=useState({user_name:\"\",id:0,status:false}),_useState2=_slicedToArray(_useState,2),authState=_useState2[0],setAuthState=_useState2[1];var AuthContext=/*#__PURE__*/createContext({authState:authState,setAuthState:setAuthState});useEffect(function(){axios.get(\"http://localhost:8000/auth/auth\",{headers:{accessToken:localStorage.getItem(\"accessToken\")}}).then(function(response){if(response.data.error){setAuthState(_objectSpread(_objectSpread({},authState),{},{status:false}));}else{setAuthState({user_name:response.data.user_name,id:response.data.id,status:true});}});},[]);var logout=function logout(){localStorage.removeItem(\"accessToken\");setAuthState({user_name:\"\",id:0,status:false});};return ___EmotionJSX(React.Fragment,null,___EmotionJSX(S.NavbarContainer,null,___EmotionJSX(S.NavbarFormGroup,null,___EmotionJSX(AuthContext.Provider,{value:{authState:authState,setAuthState:setAuthState}},authState&&___EmotionJSX(React.Fragment,null,___EmotionJSX(S.NavbarA,{to:\"auth/login\"},\"\\uB85C\\uADF8\\uC778\"),___EmotionJSX(S.NavbarA,{to:\"auth/register\"},\"\\uD68C\\uC6D0\\uAC00\\uC785\"))))));};","map":{"version":3,"names":["axios","React","useEffect","useState","createContext","Button","S","Navbar","user_name","id","status","authState","setAuthState","AuthContext","get","headers","accessToken","localStorage","getItem","then","response","data","error","logout","removeItem"],"sources":["C:/Users/qkrcj/OneDrive/바탕 화면/ad/SkyPlanner/client/src/components/common/Navbar/index.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState, createContext } from \"react\";\r\nimport { Button } from \"../Button\";\r\n\r\nimport * as S from \"./styled\";\r\n\r\nexport const Navbar = () => {\r\n  const [authState, setAuthState] = useState({\r\n    user_name: \"\",\r\n    id: 0,\r\n    status: false,\r\n  });\r\n  const AuthContext = createContext({ authState, setAuthState });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:8000/auth/auth\", {\r\n        headers: {\r\n          accessToken: localStorage.getItem(\"accessToken\"),\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.error) {\r\n          setAuthState({ ...authState, status: false });\r\n        } else {\r\n          setAuthState({\r\n            user_name: response.data.user_name,\r\n            id: response.data.id,\r\n            status: true,\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"accessToken\");\r\n    setAuthState({ user_name: \"\", id: 0, status: false });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <S.NavbarContainer>\r\n        <S.NavbarFormGroup>\r\n          <AuthContext.Provider value={{ authState, setAuthState }}>\r\n            {authState && (\r\n              <>\r\n                <S.NavbarA to=\"auth/login\">로그인</S.NavbarA>\r\n                <S.NavbarA to=\"auth/register\">회원가입</S.NavbarA>\r\n              </>\r\n            )}\r\n          </AuthContext.Provider>\r\n        </S.NavbarFormGroup>\r\n      </S.NavbarContainer>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"uTAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,aAArC,KAA0D,OAA1D,CACA,OAASC,MAAT,KAAuB,WAAvB,CAEA,MAAO,GAAKC,EAAZ,KAAmB,UAAnB,C,iDAEA,MAAO,IAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CAC1B,cAAkCJ,QAAQ,CAAC,CACzCK,SAAS,CAAE,EAD8B,CAEzCC,EAAE,CAAE,CAFqC,CAGzCC,MAAM,CAAE,KAHiC,CAAD,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eAKA,GAAMC,YAAW,cAAGT,aAAa,CAAC,CAAEO,SAAS,CAATA,SAAF,CAAaC,YAAY,CAAZA,YAAb,CAAD,CAAjC,CAEAV,SAAS,CAAC,UAAM,CACdF,KAAK,CACFc,GADH,CACO,iCADP,CAC0C,CACtCC,OAAO,CAAE,CACPC,WAAW,CAAEC,YAAY,CAACC,OAAb,CAAqB,aAArB,CADN,CAD6B,CAD1C,EAMGC,IANH,CAMQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,KAAlB,CAAyB,CACvBV,YAAY,gCAAMD,SAAN,MAAiBD,MAAM,CAAE,KAAzB,GAAZ,CACD,CAFD,IAEO,CACLE,YAAY,CAAC,CACXJ,SAAS,CAAEY,QAAQ,CAACC,IAAT,CAAcb,SADd,CAEXC,EAAE,CAAEW,QAAQ,CAACC,IAAT,CAAcZ,EAFP,CAGXC,MAAM,CAAE,IAHG,CAAD,CAAZ,CAKD,CACF,CAhBH,EAiBD,CAlBQ,CAkBN,EAlBM,CAAT,CAoBA,GAAMa,OAAM,CAAG,QAATA,OAAS,EAAM,CACnBN,YAAY,CAACO,UAAb,CAAwB,aAAxB,EACAZ,YAAY,CAAC,CAAEJ,SAAS,CAAE,EAAb,CAAiBC,EAAE,CAAE,CAArB,CAAwBC,MAAM,CAAE,KAAhC,CAAD,CAAZ,CACD,CAHD,CAKA,MACE,mCACE,cAAC,CAAD,CAAG,eAAH,MACE,cAAC,CAAD,CAAG,eAAH,MACE,cAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEC,SAAS,CAATA,SAAF,CAAaC,YAAY,CAAZA,YAAb,CAA7B,EACGD,SAAS,EACR,kCACE,cAAC,CAAD,CAAG,OAAH,EAAW,EAAE,CAAC,YAAd,uBADF,CAEE,cAAC,CAAD,CAAG,OAAH,EAAW,EAAE,CAAC,eAAd,6BAFF,CAFJ,CADF,CADF,CADF,CADF,CAgBD,CAjDM"},"metadata":{},"sourceType":"module"}