{"ast":null,"code":"import _objectSpread from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{host}from\"src/LinkHost\";import{useMediaQuery}from\"react-responsive\";import{useNavigate}from\"react-router-dom\";import*as S from\"./styled\";import{jsx as ___EmotionJSX}from\"@emotion/react\";export var Intro=function Intro(){var isDeskTop=useMediaQuery({minWidth:\"50rem\"});var navigate=useNavigate();var FuncLogout=function FuncLogout(){localStorage.removeItem(\"accessToken\");setAuthState({user_id:\"\",user_name:\"\",status:false});};var FuncLogin=function FuncLogin(){navigate(\"/auth/login\");};var FuncRegister=function FuncRegister(){navigate(\"/auth/register\");};var FuncTime=function FuncTime(){navigate(\"/time/today\");};var FuncProfile=function FuncProfile(){navigate(\"/myinfo/myplan/\".concat(authState.user_id));};var FuncNotLogged=function FuncNotLogged(){navigate(\"/\");};var FuncSt=function FuncSt(){navigate(\"/st\");};var _useState=useState({id:0,user_id:\"\",user_name:\"\",status:false}),_useState2=_slicedToArray(_useState,2),authState=_useState2[0],setAuthState=_useState2[1];var _useState3=useState({t_job:\"\",status:false}),_useState4=_slicedToArray(_useState3,2),teaState=_useState4[0],setTeaState=_useState4[1];useEffect(function(){axios.get(\"http://\".concat(host,\":8080/auth/auth\"),{headers:{accessToken:localStorage.getItem(\"accessToken\")}}).then(function(res){if(res.data.error){setAuthState(_objectSpread(_objectSpread({},authState),{},{status:false}));setTeaState(_objectSpread(_objectSpread({},teaState),{},{status:false}));}else{setAuthState({id:res.data.id,user_id:res.data.user_id,user_name:res.data.user_name,status:true});setTeaState({t_job:res.data.t_job,status:true});}});},[]);/**\r\n   * authState를 디펜던시에 넣어 상태가 업데이트 될 때 한번 더 사용하여\r\n   * \"로그인해야 이용가능한 서비스입니다!\" 라는 문장을 로그인 상태에 따라\r\n   * 바꿔서 보여줄 수 있다.\r\n   */return ___EmotionJSX(S.Background,null,!authState.status?___EmotionJSX(\"div\",{style:{textAlign:\"center\",marginBottom:\"5rem\"}},\"\\uB85C\\uADF8\\uC778\\uD574\\uC57C \\uC774\\uC6A9\\uAC00\\uB2A5\\uD55C \\uC11C\\uBE44\\uC2A4\\uC785\\uB2C8\\uB2E4!\"):___EmotionJSX(React.Fragment,null),___EmotionJSX(S.MainContainer,null,!authState.status?___EmotionJSX(S.AuthContainer,null,___EmotionJSX(S.Flex,null,___EmotionJSX(S.Logout,{onClick:FuncLogin},___EmotionJSX(S.AuthTitle,null,\"\\uB85C\\uADF8\\uC778\")),___EmotionJSX(S.Logout,{onClick:FuncRegister},___EmotionJSX(S.AuthTitle,null,\"\\uD68C\\uC6D0\\uAC00\\uC785\")))):___EmotionJSX(S.AuthContainer,null,___EmotionJSX(S.Flex,null,___EmotionJSX(S.auth,null,___EmotionJSX(S.AuthTitle,{style:{marginTop:\"0.2rem\"}},teaState.t_job===\"teacher\"?___EmotionJSX(\"div\",{onClick:FuncSt},\"\\uD559\\uC0DD\\uAD00\\uB9AC\"):authState.user_name)),___EmotionJSX(S.Logout,{onClick:FuncLogout},___EmotionJSX(S.AuthTitle,null,\"\\uB85C\\uADF8\\uC544\\uC6C3\")))),___EmotionJSX(S.SectionContainer,null,___EmotionJSX(S.SectionOne,{onClick:FuncTime},___EmotionJSX(S.TitleContainer,null,___EmotionJSX(S.SectionTitle,null,\"\\uACF5\\uBD80\\uC2DC\\uAC04 \\uC801\\uC73C\\uB7EC \\uAC00\\uAE30\"),___EmotionJSX(S.explainContainer,null,___EmotionJSX(S.explainBox,null,\"\\uC624\\uB298 \\uC790\\uC2E0\\uC758 \\uC77C\\uACFC\\uB97C \\uC801\\uC5B4\\uC8FC\\uC138\\uC694.\",___EmotionJSX(\"br\",null),\" \\uD559\\uC2B5\\uAD00\\uB9AC\\uC5D0 \\uB3C4\\uC6C0\\uC774 \\uB429\\uB2C8\\uB2E4\\uD83D\\uDE42\"))))),___EmotionJSX(S.SectionContainer,null,___EmotionJSX(S.SectionTwo,{onClick:authState.status?FuncProfile:FuncNotLogged},___EmotionJSX(S.TitleContainer,null,___EmotionJSX(S.SectionTitle,null,\"\\uD504\\uB85C\\uD544\"),___EmotionJSX(S.explainContainer,null,isDeskTop?___EmotionJSX(S.explainBox,null,\"\\uB0A0\\uC9DC\\uBCC4\\uB85C \\uC790\\uC2E0\\uC774 \\uACF5\\uBD80\\uD55C \\uC2DC\\uAC04\\uACFC\",___EmotionJSX(\"br\",null),\" \\uCD1D \\uACF5\\uBD80\\uB7C9, \\uD558\\uB8E8 \\uD3C9\\uADE0 \\uACF5\\uBD80\\uB7C9\\uC744 \\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"):___EmotionJSX(S.explainBox,null,\"\\uB0A0\\uC9DC\\uBCC4\\uB85C \\uC790\\uC2E0\\uC774 \\uACF5\\uBD80\\uD55C \\uC2DC\\uAC04\\uACFC\",___EmotionJSX(\"br\",null),\" \\uCD1D \\uACF5\\uBD80\\uB7C9, \\uD558\\uB8E8 \\uD3C9\\uADE0 \\uACF5\\uBD80\\uB7C9\\uC744 \",___EmotionJSX(\"br\",null),\"\\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\")))))));};","map":{"version":3,"names":["React","useState","useEffect","axios","host","useMediaQuery","useNavigate","S","Intro","isDeskTop","minWidth","navigate","FuncLogout","localStorage","removeItem","setAuthState","user_id","user_name","status","FuncLogin","FuncRegister","FuncTime","FuncProfile","authState","FuncNotLogged","FuncSt","id","t_job","teaState","setTeaState","get","headers","accessToken","getItem","then","res","data","error","textAlign","marginBottom","marginTop"],"sources":["C:/Users/qkrcj/OneDrive/문서/Skyplanner/SP_frontend/src/components/common/Intro/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { host } from \"src/LinkHost\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport * as S from \"./styled\";\r\n\r\nexport const Intro = () => {\r\n  const isDeskTop = useMediaQuery({ minWidth: \"50rem\" });\r\n  const navigate = useNavigate();\r\n  const FuncLogout = () => {\r\n    localStorage.removeItem(\"accessToken\");\r\n    setAuthState({\r\n      user_id: \"\",\r\n      user_name: \"\",\r\n      status: false,\r\n    });\r\n  };\r\n  const FuncLogin = () => {\r\n    navigate(\"/auth/login\");\r\n  };\r\n  const FuncRegister = () => {\r\n    navigate(\"/auth/register\");\r\n  };\r\n  const FuncTime = () => {\r\n    navigate(\"/time/today\");\r\n  };\r\n  const FuncProfile = () => {\r\n    navigate(`/myinfo/myplan/${authState.user_id}`);\r\n  };\r\n  const FuncNotLogged = () => {\r\n    navigate(\"/\");\r\n  };\r\n  const FuncSt = () => {\r\n    navigate(\"/st\");\r\n  };\r\n  const [authState, setAuthState] = useState({\r\n    id: 0,\r\n    user_id: \"\",\r\n    user_name: \"\",\r\n    status: false,\r\n  });\r\n\r\n  const [teaState, setTeaState] = useState({\r\n    t_job: \"\",\r\n    status: false,\r\n  });\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://${host}:8080/auth/auth`, {\r\n        headers: {\r\n          accessToken: localStorage.getItem(\"accessToken\"),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.data.error) {\r\n          setAuthState({ ...authState, status: false });\r\n          setTeaState({ ...teaState, status: false });\r\n        } else {\r\n          setAuthState({\r\n            id: res.data.id,\r\n            user_id: res.data.user_id,\r\n            user_name: res.data.user_name,\r\n            status: true,\r\n          });\r\n          setTeaState({\r\n            t_job: res.data.t_job,\r\n            status: true,\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n  /**\r\n   * authState를 디펜던시에 넣어 상태가 업데이트 될 때 한번 더 사용하여\r\n   * \"로그인해야 이용가능한 서비스입니다!\" 라는 문장을 로그인 상태에 따라\r\n   * 바꿔서 보여줄 수 있다.\r\n   */\r\n\r\n  return (\r\n    <S.Background>\r\n      {!authState.status ? (\r\n        <div style={{ textAlign: \"center\", marginBottom: \"5rem\" }}>\r\n          로그인해야 이용가능한 서비스입니다!\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n      <S.MainContainer>\r\n        {!authState.status ? (\r\n          <S.AuthContainer>\r\n            <S.Flex>\r\n              <S.Logout onClick={FuncLogin}>\r\n                <S.AuthTitle>로그인</S.AuthTitle>\r\n              </S.Logout>\r\n              <S.Logout onClick={FuncRegister}>\r\n                <S.AuthTitle>회원가입</S.AuthTitle>\r\n              </S.Logout>\r\n            </S.Flex>\r\n          </S.AuthContainer>\r\n        ) : (\r\n          <S.AuthContainer>\r\n            <S.Flex>\r\n              <S.auth>\r\n                <S.AuthTitle style={{ marginTop: \"0.2rem\" }}>\r\n                  {teaState.t_job === \"teacher\" ? (\r\n                    <div onClick={FuncSt}>학생관리</div>\r\n                  ) : (\r\n                    authState.user_name\r\n                  )}\r\n                </S.AuthTitle>\r\n              </S.auth>\r\n              <S.Logout onClick={FuncLogout}>\r\n                <S.AuthTitle>로그아웃</S.AuthTitle>\r\n              </S.Logout>\r\n            </S.Flex>\r\n          </S.AuthContainer>\r\n        )}\r\n        <S.SectionContainer>\r\n          <S.SectionOne onClick={FuncTime}>\r\n            <S.TitleContainer>\r\n              <S.SectionTitle>공부시간 적으러 가기</S.SectionTitle>\r\n              <S.explainContainer>\r\n                <S.explainBox>\r\n                  오늘 자신의 일과를 적어주세요.\r\n                  <br /> 학습관리에 도움이 됩니다🙂\r\n                </S.explainBox>\r\n              </S.explainContainer>\r\n            </S.TitleContainer>\r\n          </S.SectionOne>\r\n        </S.SectionContainer>\r\n        <S.SectionContainer>\r\n          <S.SectionTwo\r\n            onClick={authState.status ? FuncProfile : FuncNotLogged}\r\n          >\r\n            <S.TitleContainer>\r\n              <S.SectionTitle>프로필</S.SectionTitle>\r\n              <S.explainContainer>\r\n                {isDeskTop ? (\r\n                  <S.explainBox>\r\n                    날짜별로 자신이 공부한 시간과\r\n                    <br /> 총 공부량, 하루 평균 공부량을 볼 수 있습니다.\r\n                  </S.explainBox>\r\n                ) : (\r\n                  <S.explainBox>\r\n                    날짜별로 자신이 공부한 시간과\r\n                    <br /> 총 공부량, 하루 평균 공부량을 <br />볼 수 있습니다.\r\n                  </S.explainBox>\r\n                )}\r\n              </S.explainContainer>\r\n            </S.TitleContainer>\r\n          </S.SectionTwo>\r\n        </S.SectionContainer>\r\n      </S.MainContainer>\r\n    </S.Background>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}