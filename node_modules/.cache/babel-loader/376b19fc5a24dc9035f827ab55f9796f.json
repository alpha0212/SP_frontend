{"ast":null,"code":"import _extends from \"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\qkrcj\\\\OneDrive\\\\\\uBB38\\uC11C\\\\Skyplanner\\\\SP_frontend\\\\src\\\\components\\\\common\\\\Auth\\\\FormInput\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"src/components/common\";\nimport * as S from \"./styled\";\nimport Stack from \"@mui/material/Stack\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport MuiAlert from \"@mui/material/Alert\";\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return ___EmotionJSX(MuiAlert, _extends({\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 10\n    }\n  }));\n});\n_c2 = Alert;\nexport const FormInput = () => {\n  _s();\n\n  const [open, setOpen] = React.useState(true);\n\n  const handleClick = () => {\n    setOpen(true);\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  const [user_id, setUserid] = useState(\"\");\n  const [user_pw, setUserpw] = useState(\"\");\n  const navigate = useNavigate();\n\n  const login = () => {\n    const data = {\n      user_id: user_id,\n      user_pw: user_pw\n    };\n    axios.post(\"http://localhost:8080/auth/login\", data).then(response => {\n      if (response.data.error) {\n        alert(response.data.error);\n      } else {\n        navigate(\"/\");\n        localStorage.setItem(\"accessToken\", response.data.token);\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"accessToken\")) {\n      navigate(\"/\");\n      alert(\"로그인되었습니다.\");\n    }\n  }, []);\n  const enableButton = user_pw === \"\" ? true : false;\n  return ___EmotionJSX(React.Fragment, null, ___EmotionJSX(S.FormInputContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, ___EmotionJSX(S.InputElementContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(S.InputContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, ___EmotionJSX(S.InputElement, {\n    type: \"text\",\n    onChange: event => {\n      setUserid(event.target.value);\n    },\n    placeholder: \"\\uC544\\uC774\\uB514\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }), ___EmotionJSX(S.InputElement, {\n    type: \"password\",\n    onChange: event => {\n      setUserpw(event.target.value);\n    },\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n    value: user_pw,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), ___EmotionJSX(Button, {\n    disabled: enableButton,\n    style: {\n      backgroundColor: enableButton === true ? \"#afafaf\" : \"black\"\n    },\n    onClick: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"\\uB85C\\uADF8\\uC778\"), ___EmotionJSX(S.ChooseMenu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, ___EmotionJSX(S.Choose, {\n    to: \"/auth/teacher\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, ___EmotionJSX(S.goTeacher, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"\\uC120\\uC0DD\\uB2D8\"), \"\\uB85C\\uADF8\\uC778\"), ___EmotionJSX(S.verticalChoose, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, \"|\"), ___EmotionJSX(S.Choose, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"Skyplanner\"))))), ___EmotionJSX(Stack, {\n    spacing: 2,\n    sx: {\n      width: \"10%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, ___EmotionJSX(Snackbar, {\n    open: true,\n    style: {\n      left: \"80%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(Alert, {\n    onClose: handleClose,\n    severity: \"success\",\n    sx: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"This is a success message!\"))));\n};\n\n_s(FormInput, \"WTG4ggIkhnGhgRMy0qUslHizPkg=\", false, function () {\n  return [useNavigate];\n});\n\n_c3 = FormInput;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"FormInput\");","map":{"version":3,"names":["axios","React","useState","useEffect","useNavigate","Button","S","Stack","Snackbar","MuiAlert","Alert","forwardRef","props","ref","FormInput","open","setOpen","handleClick","handleClose","event","reason","user_id","setUserid","user_pw","setUserpw","navigate","login","data","post","then","response","error","alert","localStorage","setItem","token","getItem","enableButton","target","value","backgroundColor","width","left"],"sources":["C:/Users/qkrcj/OneDrive/문서/Skyplanner/SP_frontend/src/components/common/Auth/FormInput/index.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Button } from \"src/components/common\";\r\nimport * as S from \"./styled\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert, { AlertProps } from \"@mui/material/Alert\";\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\r\n  props,\r\n  ref\r\n) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport const FormInput = () => {\r\n  const [open, setOpen] = React.useState(true);\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = (\r\n    event?: React.SyntheticEvent | Event,\r\n    reason?: string\r\n  ) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  const [user_id, setUserid] = useState(\"\");\r\n  const [user_pw, setUserpw] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const login = () => {\r\n    const data = { user_id: user_id, user_pw: user_pw };\r\n    axios.post(\"http://localhost:8080/auth/login\", data).then((response) => {\r\n      if (response.data.error) {\r\n        alert(response.data.error);\r\n      } else {\r\n        navigate(\"/\");\r\n        localStorage.setItem(\"accessToken\", response.data.token);\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"accessToken\")) {\r\n      navigate(\"/\");\r\n      alert(\"로그인되었습니다.\");\r\n    }\r\n  }, []);\r\n  const enableButton = user_pw === \"\" ? true : false;\r\n  return (\r\n    <>\r\n      <S.FormInputContainer>\r\n        <S.InputElementContainer>\r\n          <S.InputContainer>\r\n            <S.InputElement\r\n              type=\"text\"\r\n              onChange={(event) => {\r\n                setUserid(event.target.value);\r\n              }}\r\n              placeholder=\"아이디\"\r\n            />\r\n            <S.InputElement\r\n              type=\"password\"\r\n              onChange={(event) => {\r\n                setUserpw(event.target.value);\r\n              }}\r\n              placeholder=\"비밀번호\"\r\n              value={user_pw}\r\n            />\r\n            <Button\r\n              disabled={enableButton}\r\n              style={{\r\n                backgroundColor: enableButton === true ? \"#afafaf\" : \"black\",\r\n              }}\r\n              onClick={login}\r\n            >\r\n              로그인\r\n            </Button>\r\n            <S.ChooseMenu>\r\n              <S.Choose to=\"/auth/teacher\">\r\n                <S.goTeacher>선생님</S.goTeacher>로그인\r\n              </S.Choose>\r\n              <S.verticalChoose>|</S.verticalChoose>\r\n              <S.Choose to=\"/\">Skyplanner</S.Choose>\r\n            </S.ChooseMenu>\r\n          </S.InputContainer>\r\n        </S.InputElementContainer>\r\n      </S.FormInputContainer>\r\n      <Stack spacing={2} sx={{ width: \"10%\" }}>\r\n        <Snackbar open={true} style={{ left: \"80%\" }}>\r\n          <Alert\r\n            onClose={handleClose}\r\n            severity=\"success\"\r\n            sx={{ width: \"100%\" }}\r\n          >\r\n            This is a success message!\r\n          </Alert>\r\n        </Snackbar>\r\n      </Stack>\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}