{"ast":null,"code":"import _slicedToArray from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{Form,Formik}from\"formik\";import{host}from\"src/LinkHost\";import{Button}from\"src/components/common\";import*as Yup from\"yup\";import axios from\"axios\";import*as S from\"./styled\";import{jsx as ___EmotionJSX}from\"@emotion/react\";export var RegisterForm=/*#__PURE__*/React.forwardRef(function(_ref,ref){var autoComplete=_ref.autoComplete,placeholder=_ref.placeholder,type=_ref.type,name=_ref.name;var navigate=useNavigate();var initialValues={user_name:\"\",user_id:\"\",user_pw:\"\",user_agree:\"checked\"};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];var checkHandler=function checkHandler(){setChecked(!checked);initialValues.user_agree=\"\";};var valueInsert=function valueInsert(){setChecked(true);};console.log(initialValues.user_agree);var validationSchema=Yup.object().shape({user_name:Yup.string().required(),user_id:Yup.string().required(),user_pw:Yup.string().required(),user_agree:Yup.string().required()});var onSubmit=function onSubmit(data){axios.post(\"http://\".concat(host,\":8080/auth\"),data).then(function(){console.log(data);navigate(\"/auth/login\");});};useEffect(function(){if(localStorage.getItem(\"accessToken\")){navigate(\"/\");alert(\"로그인되어 있습니다.\");}},[]);var enableButton=checked===false?true:false;return ___EmotionJSX(S.FormInputContainer,{ref:ref},___EmotionJSX(S.InputElementContainer,null,___EmotionJSX(S.InputContainer,null,___EmotionJSX(Formik,{onSubmit:onSubmit,initialValues:initialValues,validationSchema:validationSchema},___EmotionJSX(Form,null,___EmotionJSX(S.Label,null,\"\\uC774\\uB984\"),___EmotionJSX(S.InputElement,{autoComplete:\"off\",name:\"user_name\"}),___EmotionJSX(S.Label,null,\"\\uC544\\uC774\\uB514\"),___EmotionJSX(S.InputElement,{type:\"text\",autoComplete:\"off\",name:\"user_id\"}),___EmotionJSX(S.Label,null,\"\\uBE44\\uBC00\\uBC88\\uD638\"),___EmotionJSX(S.InputElement,{autoComplete:\"off\",name:\"user_pw\",type:\"password\"}),___EmotionJSX(S.AgreeCheck,{type:\"checkbox\",id:\"user_agree\",name:\"user_agree\",onClick:valueInsert,onChange:checkHandler}),\"\\uAC1C\\uC778\\uC815\\uBCF4 \\uC218\\uC9D1 \\uBC0F \\uC774\\uC6A9 \\uB3D9\\uC758\",___EmotionJSX(\"strong\",null,\"(\\uD544\\uC218)\"),___EmotionJSX(Button,{disabled:enableButton,style:{backgroundColor:enableButton===false?\"black\":\"#afafaf\"},type:\"submit\"},\"\\uD68C\\uC6D0\\uAC00\\uC785\"))))));});","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Form","Formik","host","Button","Yup","axios","S","RegisterForm","forwardRef","ref","autoComplete","placeholder","type","name","navigate","initialValues","user_name","user_id","user_pw","user_agree","checked","setChecked","checkHandler","valueInsert","console","log","validationSchema","object","shape","string","required","onSubmit","data","post","then","localStorage","getItem","alert","enableButton","backgroundColor"],"sources":["C:/Users/qkrcj/OneDrive/문서/Skyplanner/SP_frontend/src/components/common/Auth/RegisterForm/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { host } from \"src/LinkHost\";\r\nimport { Button } from \"src/components/common\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport * as S from \"./styled\";\r\n\r\nexport interface RegisterFormInputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const RegisterForm = React.forwardRef<\r\n  HTMLInputElement,\r\n  RegisterFormInputProps\r\n>(({ autoComplete, placeholder, type, name }, ref) => {\r\n  const navigate = useNavigate();\r\n\r\n  let initialValues = {\r\n    user_name: \"\",\r\n    user_id: \"\",\r\n    user_pw: \"\",\r\n    user_agree: \"checked\",\r\n  };\r\n  const [checked, setChecked] = useState(false);\r\n  const checkHandler = () => {\r\n    setChecked(!checked);\r\n    initialValues.user_agree = \"\";\r\n  };\r\n  const valueInsert = () => {\r\n    setChecked(true);\r\n  };\r\n  console.log(initialValues.user_agree);\r\n  const validationSchema = Yup.object().shape({\r\n    user_name: Yup.string().required(),\r\n    user_id: Yup.string().required(),\r\n    user_pw: Yup.string().required(),\r\n    user_agree: Yup.string().required(),\r\n  });\r\n  const onSubmit = (data: any) => {\r\n    axios.post(`http://${host}:8080/auth`, data).then(() => {\r\n      console.log(data);\r\n      navigate(\"/auth/login\");\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"accessToken\")) {\r\n      navigate(\"/\");\r\n      alert(\"로그인되어 있습니다.\");\r\n    }\r\n  }, []);\r\n  const enableButton = checked === false ? true : false;\r\n  return (\r\n    <S.FormInputContainer ref={ref}>\r\n      <S.InputElementContainer>\r\n        <S.InputContainer>\r\n          <Formik\r\n            onSubmit={onSubmit}\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n          >\r\n            <Form>\r\n              <S.Label>이름</S.Label>\r\n              <S.InputElement autoComplete=\"off\" name=\"user_name\" />\r\n              <S.Label>아이디</S.Label>\r\n              <S.InputElement type=\"text\" autoComplete=\"off\" name=\"user_id\" />\r\n              <S.Label>비밀번호</S.Label>\r\n              <S.InputElement\r\n                autoComplete=\"off\"\r\n                name=\"user_pw\"\r\n                type=\"password\"\r\n              />\r\n              <S.AgreeCheck\r\n                type=\"checkbox\"\r\n                id=\"user_agree\"\r\n                name=\"user_agree\"\r\n                onClick={valueInsert}\r\n                onChange={checkHandler}\r\n              />\r\n              개인정보 수집 및 이용 동의<strong>(필수)</strong>\r\n              <Button\r\n                disabled={enableButton}\r\n                style={{\r\n                  backgroundColor: enableButton === false ? \"black\" : \"#afafaf\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                회원가입\r\n              </Button>\r\n            </Form>\r\n          </Formik>\r\n        </S.InputContainer>\r\n      </S.InputElementContainer>\r\n    </S.FormInputContainer>\r\n  );\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}