{"ast":null,"code":"import _extends from \"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\qkrcj\\\\OneDrive\\\\\\uBB38\\uC11C\\\\Skyplanner\\\\SP_frontend\\\\src\\\\components\\\\common\\\\Auth\\\\RegisterForm\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Formik, Form } from \"formik\";\nimport { Button } from \"src/components/common\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport * as S from \"./styled\";\nimport Stack from \"@mui/material/Stack\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport MuiAlert from \"@mui/material/Alert\";\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return ___EmotionJSX(MuiAlert, _extends({\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 10\n    }\n  }));\n});\n_c2 = Alert;\nexport const RegisterForm = /*#__PURE__*/_s( /*#__PURE__*/React.forwardRef(_c3 = _s((_ref, ref) => {\n  _s();\n\n  let {\n    autoComplete,\n    placeholder,\n    type,\n    name\n  } = _ref;\n  const initialValues = {\n    user_name: \"\",\n    user_id: \"\",\n    user_pw: \"\"\n  };\n  const [open, setOpen] = React.useState(false);\n  const navigate = useNavigate();\n  const validationSchema = Yup.object().shape({\n    user_name: Yup.string().required(),\n    user_id: Yup.string().required(),\n    user_pw: Yup.string().required()\n  });\n\n  const onSubmit = data => {\n    axios.post(\"http://localhost:8080/auth\", data).then(() => {\n      console.log(data);\n      window.location.replace(\"/auth/register\");\n      setOpen(true);\n    });\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"accessToken\")) {\n      navigate(\"/\");\n      alert(\"로그인되어 있습니다.\");\n    }\n  }, []);\n  return ___EmotionJSX(S.FormInputContainer, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, ___EmotionJSX(S.InputElementContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, ___EmotionJSX(S.InputContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, ___EmotionJSX(Stack, {\n    spacing: 2,\n    sx: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, ___EmotionJSX(Formik, {\n    initialValues: initialValues,\n    onSubmit: onSubmit,\n    validationSchema: validationSchema,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, ___EmotionJSX(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, ___EmotionJSX(S.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"\\uC774\\uB984\"), ___EmotionJSX(S.InputElement, {\n    autoComplete: \"off\",\n    name: \"user_name\",\n    placeholder: \"\\uC774\\uB984\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }), ___EmotionJSX(S.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"\\uC544\\uC774\\uB514\"), ___EmotionJSX(S.InputElement, {\n    type: \"text\",\n    autoComplete: \"off\",\n    name: \"user_id\",\n    placeholder: \"id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), ___EmotionJSX(S.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"\\uBE44\\uBC00\\uBC88\\uD638\"), ___EmotionJSX(S.InputElement, {\n    autoComplete: \"off\",\n    name: \"user_pw\",\n    placeholder: \"pw\",\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), ___EmotionJSX(Button, {\n    type: \"submit\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"))), ___EmotionJSX(Snackbar, {\n    open: open,\n    autoHideDuration: 3000,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, ___EmotionJSX(Alert, {\n    onClose: handleClose,\n    severity: \"success\",\n    sx: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785 \\uC644\\uB8CC!\\uD83D\\uDE0E\"))))));\n}, \"bT6+YGuv92lELbFUGhuBpXy6bog=\", false, function () {\n  return [useNavigate];\n})), \"bT6+YGuv92lELbFUGhuBpXy6bog=\", false, function () {\n  return [useNavigate];\n});\n_c4 = RegisterForm;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"RegisterForm$React.forwardRef\");\n$RefreshReg$(_c4, \"RegisterForm\");","map":{"version":3,"names":["React","useEffect","useNavigate","Formik","Form","Button","Yup","axios","S","Stack","Snackbar","MuiAlert","Alert","forwardRef","props","ref","RegisterForm","autoComplete","placeholder","type","name","initialValues","user_name","user_id","user_pw","open","setOpen","useState","navigate","validationSchema","object","shape","string","required","onSubmit","data","post","then","console","log","window","location","replace","handleClose","event","reason","localStorage","getItem","alert","width"],"sources":["C:/Users/qkrcj/OneDrive/문서/Skyplanner/SP_frontend/src/components/common/Auth/RegisterForm/index.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { Button } from \"src/components/common\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport * as S from \"./styled\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport MuiAlert, { AlertProps } from \"@mui/material/Alert\";\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\r\n  props,\r\n  ref\r\n) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport interface RegisterFormInputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\nexport const RegisterForm = React.forwardRef<\r\n  HTMLInputElement,\r\n  RegisterFormInputProps\r\n>(({ autoComplete, placeholder, type, name }, ref) => {\r\n  const initialValues = {\r\n    user_name: \"\",\r\n    user_id: \"\",\r\n    user_pw: \"\",\r\n  };\r\n  const [open, setOpen] = React.useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    user_name: Yup.string().required(),\r\n    user_id: Yup.string().required(),\r\n    user_pw: Yup.string().required(),\r\n  });\r\n\r\n  const onSubmit = (data: any) => {\r\n    axios.post(\"http://localhost:8080/auth\", data).then(() => {\r\n      console.log(data);\r\n      window.location.replace(\"/auth/register\");\r\n      setOpen(true);\r\n    });\r\n  };\r\n  const handleClose = (\r\n    event?: React.SyntheticEvent | Event,\r\n    reason?: string\r\n  ) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"accessToken\")) {\r\n      navigate(\"/\");\r\n      alert(\"로그인되어 있습니다.\");\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <S.FormInputContainer ref={ref}>\r\n      <S.InputElementContainer>\r\n        <S.InputContainer>\r\n          <Stack spacing={2} sx={{ width: \"100%\" }}>\r\n            <Formik\r\n              initialValues={initialValues}\r\n              onSubmit={onSubmit}\r\n              validationSchema={validationSchema}\r\n            >\r\n              <Form>\r\n                <S.Label>이름</S.Label>\r\n                <S.InputElement\r\n                  autoComplete=\"off\"\r\n                  name=\"user_name\"\r\n                  placeholder=\"이름\"\r\n                />\r\n                <S.Label>아이디</S.Label>\r\n                <S.InputElement\r\n                  type=\"text\"\r\n                  autoComplete=\"off\"\r\n                  name=\"user_id\"\r\n                  placeholder=\"id\"\r\n                />\r\n                <S.Label>비밀번호</S.Label>\r\n                <S.InputElement\r\n                  autoComplete=\"off\"\r\n                  name=\"user_pw\"\r\n                  placeholder=\"pw\"\r\n                  type=\"password\"\r\n                />\r\n                <Button type=\"submit\" onClick={onSubmit}>\r\n                  회원가입\r\n                </Button>\r\n              </Form>\r\n            </Formik>\r\n            <Snackbar open={open} autoHideDuration={3000} onClose={handleClose}>\r\n              <Alert\r\n                onClose={handleClose}\r\n                severity=\"success\"\r\n                sx={{ width: \"100%\" }}\r\n              >\r\n                회원가입 완료!😎\r\n              </Alert>\r\n            </Snackbar>\r\n          </Stack>\r\n        </S.InputContainer>\r\n      </S.InputElementContainer>\r\n    </S.FormInputContainer>\r\n  );\r\n});\r\n"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAAoC,QAApC;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,CAAZ,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,QAAP,MAAqC,qBAArC;;AAEA,MAAMC,KAAK,gBAAGZ,KAAK,CAACa,UAAN,MAA6C,SAASD,KAAT,CACzDE,KADyD,EAEzDC,GAFyD,EAGzD;EACA,OAAO,cAAC,QAAD;IAAU,SAAS,EAAE,CAArB;IAAwB,GAAG,EAAEA,GAA7B;IAAkC,OAAO,EAAC;EAA1C,GAAuDD,KAAvD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAP;AACD,CALa,CAAd;MAAMF,K;AASN,OAAO,MAAMI,YAAY,iCAAGhB,KAAK,CAACa,UAAN,UAG1B,OAA4CE,GAA5C,KAAoD;EAAA;;EAAA,IAAnD;IAAEE,YAAF;IAAgBC,WAAhB;IAA6BC,IAA7B;IAAmCC;EAAnC,CAAmD;EACpD,MAAMC,aAAa,GAAG;IACpBC,SAAS,EAAE,EADS;IAEpBC,OAAO,EAAE,EAFW;IAGpBC,OAAO,EAAE;EAHW,CAAtB;EAKA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB1B,KAAK,CAAC2B,QAAN,CAAe,KAAf,CAAxB;EACA,MAAMC,QAAQ,GAAG1B,WAAW,EAA5B;EAEA,MAAM2B,gBAAgB,GAAGvB,GAAG,CAACwB,MAAJ,GAAaC,KAAb,CAAmB;IAC1CT,SAAS,EAAEhB,GAAG,CAAC0B,MAAJ,GAAaC,QAAb,EAD+B;IAE1CV,OAAO,EAAEjB,GAAG,CAAC0B,MAAJ,GAAaC,QAAb,EAFiC;IAG1CT,OAAO,EAAElB,GAAG,CAAC0B,MAAJ,GAAaC,QAAb;EAHiC,CAAnB,CAAzB;;EAMA,MAAMC,QAAQ,GAAIC,IAAD,IAAe;IAC9B5B,KAAK,CAAC6B,IAAN,CAAW,4BAAX,EAAyCD,IAAzC,EAA+CE,IAA/C,CAAoD,MAAM;MACxDC,OAAO,CAACC,GAAR,CAAYJ,IAAZ;MACAK,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,gBAAxB;MACAhB,OAAO,CAAC,IAAD,CAAP;IACD,CAJD;EAKD,CAND;;EAOA,MAAMiB,WAAW,GAAG,CAClBC,KADkB,EAElBC,MAFkB,KAGf;IACH,IAAIA,MAAM,KAAK,WAAf,EAA4B;MAC1B;IACD;;IAEDnB,OAAO,CAAC,KAAD,CAAP;EACD,CATD;;EAUAzB,SAAS,CAAC,MAAM;IACd,IAAI6C,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAJ,EAAyC;MACvCnB,QAAQ,CAAC,GAAD,CAAR;MACAoB,KAAK,CAAC,aAAD,CAAL;IACD;EACF,CALQ,EAKN,EALM,CAAT;EAOA,OACE,cAAC,CAAD,CAAG,kBAAH;IAAsB,GAAG,EAAEjC,GAA3B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,cAAC,CAAD,CAAG,qBAAH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,cAAC,CAAD,CAAG,cAAH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,cAAC,KAAD;IAAO,OAAO,EAAE,CAAhB;IAAmB,EAAE,EAAE;MAAEkC,KAAK,EAAE;IAAT,CAAvB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,cAAC,MAAD;IACE,aAAa,EAAE5B,aADjB;IAEE,QAAQ,EAAEa,QAFZ;IAGE,gBAAgB,EAAEL,gBAHpB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAKE,cAAC,IAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,cAAC,CAAD,CAAG,KAAH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBADF,EAEE,cAAC,CAAD,CAAG,YAAH;IACE,YAAY,EAAC,KADf;IAEE,IAAI,EAAC,WAFP;IAGE,WAAW,EAAC,cAHd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,EAOE,cAAC,CAAD,CAAG,KAAH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,wBAPF,EAQE,cAAC,CAAD,CAAG,YAAH;IACE,IAAI,EAAC,MADP;IAEE,YAAY,EAAC,KAFf;IAGE,IAAI,EAAC,SAHP;IAIE,WAAW,EAAC,IAJd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EARF,EAcE,cAAC,CAAD,CAAG,KAAH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BAdF,EAeE,cAAC,CAAD,CAAG,YAAH;IACE,YAAY,EAAC,KADf;IAEE,IAAI,EAAC,SAFP;IAGE,WAAW,EAAC,IAHd;IAIE,IAAI,EAAC,UAJP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAfF,EAqBE,cAAC,MAAD;IAAQ,IAAI,EAAC,QAAb;IAAsB,OAAO,EAAEK,QAA/B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,8BArBF,CALF,CADF,EAgCE,cAAC,QAAD;IAAU,IAAI,EAAET,IAAhB;IAAsB,gBAAgB,EAAE,IAAxC;IAA8C,OAAO,EAAEkB,WAAvD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,cAAC,KAAD;IACE,OAAO,EAAEA,WADX;IAEE,QAAQ,EAAC,SAFX;IAGE,EAAE,EAAE;MAAEM,KAAK,EAAE;IAAT,CAHN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,wDADF,CAhCF,CADF,CADF,CADF,CADF;AAkDD,CA5F2B;EAAA,QAUT/C,WAVS;AAAA,GAAH;EAAA,QAUNA,WAVM;AAAA,EAAlB;MAAMc,Y"},"metadata":{},"sourceType":"module"}