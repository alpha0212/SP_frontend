{"ast":null,"code":"import _objectSpread from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _extends from\"C:/Users/qkrcj/OneDrive/\\uBB38\\uC11C/Skyplanner/SP_frontend/node_modules/@babel/runtime/helpers/esm/extends.js\";import React,{useState,useEffect}from\"react\";import Stack from\"@mui/material/Stack\";import MuiAlert from\"@mui/material/Alert\";import Snackbar from\"@mui/material/Snackbar\";import axios from\"axios\";import{useNetwork}from\"src/hooks/useNetwork\";import{host}from\"src/LinkHost\";import{jsx as ___EmotionJSX}from\"@emotion/react\";var Alert=/*#__PURE__*/React.forwardRef(function Alert(props,ref){return ___EmotionJSX(MuiAlert,_extends({elevation:6,ref:ref,variant:\"filled\"},props));});export var SnackBar=function SnackBar(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _useState=useState({status:false}),_useState2=_slicedToArray(_useState,2),authState=_useState2[0],setAuthState=_useState2[1];var handleClose=function handleClose(event,reason){if(reason===\"clickaway\"){return;}setOpen(false);};useEffect(function(){axios.get(\"http://\".concat(host,\":8080/auth/auth\"),{headers:{accessToken:localStorage.getItem(\"accessToken\")}}).then(function(res){if(res.data.error){setAuthState(_objectSpread(_objectSpread({},authState),{},{status:false}));}else{setAuthState({status:true});}});},[]);var handleNetworkChange=function handleNetworkChange(online){console.log(online?\"online\":\"offline\");};var onLine=useNetwork(handleNetworkChange);return ___EmotionJSX(Stack,{spacing:2,sx:{width:\"100%\"}},___EmotionJSX(Snackbar,{open:open,anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},transitionDuration:{exit:700,enter:300}},!authState.status?___EmotionJSX(Alert,{onClose:handleClose,severity:\"info\",sx:{width:\"24rem\",fontSize:\"1.3rem\",fontWeight:\"bold\"}},\"\\uB85C\\uADF8\\uC778\\uB418\\uC5B4\\uC788\\uC9C0 \\uC54A\\uC740 \\uC0C1\\uD0DC\\uD83E\\uDD14\"):___EmotionJSX(Alert,{onClose:handleClose,severity:\"success\",sx:{width:\"22rem\",fontSize:\"1.3rem\",fontWeight:\"bold\"}},\"\\uB85C\\uADF8\\uC778 \\uB418\\uC5B4\\uC788\\uC74C\\uD83D\\uDE0E\")));};","map":{"version":3,"names":["React","useState","useEffect","Stack","MuiAlert","Snackbar","axios","useNetwork","host","Alert","forwardRef","props","ref","SnackBar","open","setOpen","status","authState","setAuthState","handleClose","event","reason","get","headers","accessToken","localStorage","getItem","then","res","data","error","handleNetworkChange","online","console","log","onLine","width","vertical","horizontal","exit","enter","fontSize","fontWeight"],"sources":["C:/Users/qkrcj/OneDrive/Î¨∏ÏÑú/Skyplanner/SP_frontend/src/components/common/Snackbar/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport MuiAlert, { AlertProps } from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport axios from \"axios\";\r\nimport { useNetwork } from \"src/hooks/useNetwork\";\r\nimport { host } from \"src/LinkHost\";\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\r\n  props,\r\n  ref\r\n) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\nexport const SnackBar = () => {\r\n  const [open, setOpen] = React.useState(true);\r\n  const [authState, setAuthState] = useState({\r\n    status: false,\r\n  });\r\n  const handleClose = (\r\n    event?: React.SyntheticEvent | Event,\r\n    reason?: string\r\n  ) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://${host}:8080/auth/auth`, {\r\n        headers: {\r\n          accessToken: localStorage.getItem(\"accessToken\") as any,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.data.error) {\r\n          setAuthState({ ...authState, status: false });\r\n        } else {\r\n          setAuthState({\r\n            status: true,\r\n          });\r\n        }\r\n      });\r\n  }, []);\r\n  const handleNetworkChange = (online: any) => {\r\n    console.log(online ? \"online\" : \"offline\");\r\n  };\r\n  const onLine = useNetwork(handleNetworkChange);\r\n  return (\r\n    <Stack spacing={2} sx={{ width: \"100%\" }}>\r\n      <Snackbar\r\n        open={open}\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\r\n        transitionDuration={{ exit: 700, enter: 300 }}\r\n      >\r\n        {!authState.status ? (\r\n          <Alert\r\n            onClose={handleClose}\r\n            severity=\"info\"\r\n            sx={{ width: \"24rem\", fontSize: \"1.3rem\", fontWeight: \"bold\" }}\r\n          >\r\n            Î°úÍ∑∏Ïù∏ÎêòÏñ¥ÏûàÏßÄ ÏïäÏùÄ ÏÉÅÌÉúü§î\r\n          </Alert>\r\n        ) : (\r\n          <Alert\r\n            onClose={handleClose}\r\n            severity=\"success\"\r\n            sx={{ width: \"22rem\", fontSize: \"1.3rem\", fontWeight: \"bold\" }}\r\n          >\r\n            Î°úÍ∑∏Ïù∏ ÎêòÏñ¥ÏûàÏùåüòé\r\n          </Alert>\r\n        )}\r\n      </Snackbar>\r\n    </Stack>\r\n  );\r\n};\r\n"],"mappings":"saAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,qBAAlB,CACA,MAAOC,SAAP,KAAqC,qBAArC,CACA,MAAOC,SAAP,KAAqB,wBAArB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,OAASC,IAAT,KAAqB,cAArB,C,iDAEA,GAAMC,MAAK,cAAGT,KAAK,CAACU,UAAN,CAA6C,QAASD,MAAT,CACzDE,KADyD,CAEzDC,GAFyD,CAGzD,CACA,MAAO,eAAC,QAAD,WAAU,SAAS,CAAE,CAArB,CAAwB,GAAG,CAAEA,GAA7B,CAAkC,OAAO,CAAC,QAA1C,EAAuDD,KAAvD,EAAP,CACD,CALa,CAAd,CAMA,MAAO,IAAME,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAC5B,oBAAwBb,KAAK,CAACC,QAAN,CAAe,IAAf,CAAxB,oDAAOa,IAAP,qBAAaC,OAAb,qBACA,cAAkCd,QAAQ,CAAC,CACzCe,MAAM,CAAE,KADiC,CAAD,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eAGA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAClBC,KADkB,CAElBC,MAFkB,CAGf,CACH,GAAIA,MAAM,GAAK,WAAf,CAA4B,CAC1B,OACD,CAEDN,OAAO,CAAC,KAAD,CAAP,CACD,CATD,CAUAb,SAAS,CAAC,UAAM,CACdI,KAAK,CACFgB,GADH,kBACiBd,IADjB,oBACwC,CACpCe,OAAO,CAAE,CACPC,WAAW,CAAEC,YAAY,CAACC,OAAb,CAAqB,aAArB,CADN,CAD2B,CADxC,EAMGC,IANH,CAMQ,SAACC,GAAD,CAAS,CACb,GAAIA,GAAG,CAACC,IAAJ,CAASC,KAAb,CAAoB,CAClBZ,YAAY,gCAAMD,SAAN,MAAiBD,MAAM,CAAE,KAAzB,GAAZ,CACD,CAFD,IAEO,CACLE,YAAY,CAAC,CACXF,MAAM,CAAE,IADG,CAAD,CAAZ,CAGD,CACF,CAdH,EAeD,CAhBQ,CAgBN,EAhBM,CAAT,CAiBA,GAAMe,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACC,MAAD,CAAiB,CAC3CC,OAAO,CAACC,GAAR,CAAYF,MAAM,CAAG,QAAH,CAAc,SAAhC,EACD,CAFD,CAGA,GAAMG,OAAM,CAAG5B,UAAU,CAACwB,mBAAD,CAAzB,CACA,MACE,eAAC,KAAD,EAAO,OAAO,CAAE,CAAhB,CAAmB,EAAE,CAAE,CAAEK,KAAK,CAAE,MAAT,CAAvB,EACE,cAAC,QAAD,EACE,IAAI,CAAEtB,IADR,CAEE,YAAY,CAAE,CAAEuB,QAAQ,CAAE,QAAZ,CAAsBC,UAAU,CAAE,OAAlC,CAFhB,CAGE,kBAAkB,CAAE,CAAEC,IAAI,CAAE,GAAR,CAAaC,KAAK,CAAE,GAApB,CAHtB,EAKG,CAACvB,SAAS,CAACD,MAAX,CACC,cAAC,KAAD,EACE,OAAO,CAAEG,WADX,CAEE,QAAQ,CAAC,MAFX,CAGE,EAAE,CAAE,CAAEiB,KAAK,CAAE,OAAT,CAAkBK,QAAQ,CAAE,QAA5B,CAAsCC,UAAU,CAAE,MAAlD,CAHN,qFADD,CASC,cAAC,KAAD,EACE,OAAO,CAAEvB,WADX,CAEE,QAAQ,CAAC,SAFX,CAGE,EAAE,CAAE,CAAEiB,KAAK,CAAE,OAAT,CAAkBK,QAAQ,CAAE,QAA5B,CAAsCC,UAAU,CAAE,MAAlD,CAHN,4DAdJ,CADF,CADF,CA2BD,CA/DM"},"metadata":{},"sourceType":"module"}